<!DOCTYPE html>
{{- $themeNames := partial "markdown-body-theme-names.html" . }}
<html class="{{ index $themeNames 0 }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ .Title }}</title>
    {{ partial "chota" . }}
    {{ partial "markdown-body" . }}
    <link rel="stylesheet" href="{{ (resources.Get "css/blog.css" | resources.Minify).RelPermalink }}"></link>
    <script>
      function setMode(toggle) {
        var darkMode = Boolean(window.localStorage.getItem("darkMode"));
        if (toggle) {
          darkMode = !darkMode;
          window.localStorage.setItem("darkMode", darkMode ? "1" : "");
        }
        var root = document.getElementsByTagName("html")[0];
        root.classList.remove(darkMode ? "light" : "dark");
        root.classList.add(darkMode ? "dark" : "light");
        return false;
      }
      setMode(false);
    </script>
  </head>
  <body>
    <div id="header">
      <!-- 导航条 -->
      <nav id="navbar" class="row">
        <div class="is-left col-12 col-3-md row">
          <a id="navbar-brand" class="brand" href="/">{{ .Site.Title }}</a>
          <label id="navbar-toggle-menu" for="navbar-toggle-menu-state" class="hide-md hide-lg">
            <span></span>
            <span></span>
            <span></span>
          </label>
        </div>
        <input id="navbar-toggle-menu-state" type="checkbox" style="display:none"></input>
        <div id="navbar-menu" class="is-right col-12 col-9-md row hide-xs-noimportant hide-sm-noimportant">
          {{ range .Site.Sections }}
          <a href="/{{ .Section | urlize }}">{{ .Section | humanize | title }}</a>
          {{ end }}
          {{ range $taxonomyname, $taxonomy := .Site.Taxonomies }}
          <a href="/{{ $taxonomyname | urlize }}">{{ $taxonomyname | humanize | title }}</a>
          {{ end }}
          <a href="javascript:void(0)" id="navbar-toggle-mode" onclick="return setMode(true)"></a>
        </div>
      </nav>
    </div>
    <!-- 主体 -->
    <div id="main" class="row">
      <div class="col-2-md col-3-lg hide-xs hide-sm"></div>
      <div class="col-12 col-8-md col-6-lg mdb">
        <div id="main-title" class="text-center">
          {{ block "mainTitle" . }}{{ end }}
        </div>
        <div id="main-body">
          {{ block "mainBody" . }}{{ end }}
        </div>
      </div>
      <div class="col-2-md col-3-lg hide-xs hide-sm"></div>
    </div>
    <!-- 页脚 -->
    <div id="footer" class="text-center">
      <p>
        Powered By <a href="https://gohugo.io/">Hugo</a>/<a href="https://jenil.github.io/chota">Chota</a>,
        Generated Using <a href="https://github.com/huangjunwen/mdtool">MDTool</a>
      </p>
      <p>&copy; {{ now.Format "2006"}}. All rights reserved</p>
    </div>
  </body>
</html>
